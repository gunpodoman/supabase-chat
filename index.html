<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>훈지중독</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="flex items-center justify-center min-h-screen bg-gradient-to-br from-violet-200 via-pink-200 to-blue-200 p-4">
    
    <div class="main-card w-full max-w-md h-[85vh] md:h-[700px] bg-white/90 backdrop-blur-lg shadow-2xl rounded-3xl overflow-hidden flex flex-col border border-white/40 relative z-10">
        
        <div id="view-login" class="p-8 flex-1 flex flex-col justify-center animate-fade-in">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-black text-slate-800 mb-2">Welcome!</h1>
                <p class="text-slate-500 text-sm">계정에 접속하여 대화를 시작하세요.</p>
            </div>
            <input type="text" id="login-id" placeholder="아이디" class="custom-input w-full p-3.5 mb-3 bg-slate-50/80 rounded-2xl outline-none border border-slate-200/60">
            <input type="password" id="login-pw" placeholder="비밀번호" class="custom-input w-full p-3.5 mb-6 bg-slate-50/80 rounded-2xl outline-none border border-slate-200/60">
            <button id="btn-login" class="btn-primary w-full py-3.5 bg-emerald-500 text-white font-bold rounded-2xl mb-5 shadow-lg shadow-emerald-500/20 hover:bg-emerald-600 hover:shadow-emerald-500/40 transition-all">접속하기</button>
            <button id="go-to-signup" class="w-full text-slate-500 text-sm font-medium hover:text-emerald-600 transition-colors">아직 회원이 아니신가요? <span class="font-bold underline">회원가입</span></button>
        </div>

        <div id="view-signup" class="p-8 flex-1 flex flex-col justify-center animate-fade-in" style="display:none;">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-black text-blue-600 mb-2">Join Us</h1>
                <p class="text-slate-500 text-sm">새로운 계정을 만들어보세요.</p>
            </div>
            <input type="text" id="signup-id" placeholder="새 아이디" class="custom-input w-full p-3.5 mb-3 bg-slate-50/80 rounded-2xl outline-none border border-slate-200/60">
            <input type="password" id="signup-pw" placeholder="새 비밀번호" class="custom-input w-full p-3.5 mb-6 bg-slate-50/80 rounded-2xl outline-none border border-slate-200/60">
            <button id="btn-signup" class="btn-secondary w-full py-3.5 bg-blue-600 text-white font-bold rounded-2xl mb-5 shadow-lg shadow-blue-600/20 hover:bg-blue-700 hover:shadow-blue-600/40 transition-all">가입 완료</button>
            <button id="go-to-login" class="w-full text-slate-500 text-sm font-medium hover:text-blue-600 transition-colors">이미 계정이 있나요? <span class="font-bold underline">로그인</span></button>
        </div>

        <div id="view-chat" class="flex-1 flex flex-col h-full overflow-hidden bg-slate-50/30" style="display:none;">
            <header class="px-5 py-4 border-b border-slate-100 flex justify-between items-center bg-white/80 backdrop-blur-md sticky top-0 z-20">
                <div class="flex items-center gap-3">
                    <div class="relative">
                        <div class="w-3 h-3 bg-emerald-500 rounded-full animate-pulse"></div>
                        <div class="absolute inset-0 w-3 h-3 bg-emerald-500 rounded-full animate-ping opacity-30"></div>
                    </div>
                    <span id="user-display" class="font-bold text-slate-800 text-lg truncate max-w-[150px]">User</span>
                </div>
                <button id="btn-logout" class="px-3 py-1.5 bg-slate-100 text-slate-500 hover:bg-rose-50 hover:text-rose-600 rounded-lg text-xs font-bold transition-all">로그아웃</button>
            </header>

            <div id="chat-box" class="flex-1 p-5 overflow-y-auto flex flex-col gap-2 scroll-smooth">
                </div>

            <div class="p-4 bg-white/90 border-t border-slate-100 backdrop-blur-md sticky bottom-0">
                <div class="flex gap-2 bg-slate-100/80 p-1.5 rounded-[1.2rem] focus-within:bg-white focus-within:ring-2 focus-within:ring-emerald-500/30 transition-all focus-within:shadow-md">
                    <input type="text" id="chat-input" placeholder="메시지를 입력하세요..." class="flex-1 p-3 bg-transparent outline-none text-slate-700 placeholder:text-slate-400" autocomplete="off">
                    <button id="btn-send" class="bg-emerald-500 hover:bg-emerald-600 text-white px-5 py-3 rounded-2xl font-bold transition-all shadow-md active:scale-95 shrink-0">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                            <path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

    </div>
    <div class="fixed top-[-10%] left-[-10%] w-[40%] h-[40%] bg-purple-300/30 rounded-full blur-[100px] -z-10"></div>
    <div class="fixed bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-300/30 rounded-full blur-[100px] -z-10"></div>

    <script src="script.js"></script>
</body>
</html>
